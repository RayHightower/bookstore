Re-doing this sample app TDD-style.

